{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../progress/progress.component\";\n\nfunction ReplaceCatalogComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 3);\n    i0.ɵɵlistener(\"fileDropped\", function ReplaceCatalogComponent_div_0_Template_div_fileDropped_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.onFileDropped($event);\n    });\n    i0.ɵɵelementStart(2, \"input\", 4, 5);\n    i0.ɵɵlistener(\"change\", function ReplaceCatalogComponent_div_0_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.fileBrowseHandler($event.target.files);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h4\", 6);\n    i0.ɵɵtext(5, \"Drag or Click here to upload files\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h5\");\n    i0.ɵɵtext(7, \"Note, that only .CSV files are \");\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtext(9, \" supported\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\", 7);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 8);\n    i0.ɵɵelement(12, \"path\", 9)(13, \"path\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" Download\\n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(15, \"span\");\n    i0.ɵɵtext(16, \"our Template as a help.\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ReplaceCatalogComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 13);\n    i0.ɵɵelement(3, \"path\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"h4\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 17);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"app-progress\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function ReplaceCatalogComponent_div_2_Template_div_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const i_r7 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.deleteFile(i_r7);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 20);\n    i0.ɵɵelement(12, \"path\", 21);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const file_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", file_r6 == null ? null : file_r6.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatBytes(file_r6 == null ? null : file_r6.size), \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"progress\", file_r6 == null ? null : file_r6.progress);\n  }\n}\n\nexport let ReplaceCatalogComponent = /*#__PURE__*/(() => {\n  class ReplaceCatalogComponent {\n    constructor() {\n      this.files = [];\n    }\n\n    ngOnInit() {}\n    /**\r\n     * on file drop handler\r\n     */\n\n\n    onFileDropped($event) {\n      this.prepareFilesList($event);\n    }\n    /**\r\n     * handle file from browsing\r\n     */\n\n\n    fileBrowseHandler(files) {\n      this.prepareFilesList(files);\n    }\n    /**\r\n     * Delete file from files list\r\n     * @param index (File index)\r\n     */\n\n\n    deleteFile(index) {\n      this.files.splice(index, 1);\n    }\n    /**\r\n     * Simulate the upload process\r\n     */\n\n\n    uploadFilesSimulator(index) {\n      setTimeout(() => {\n        if (index === this.files.length) {\n          return;\n        } else {\n          const progressInterval = setInterval(() => {\n            if (this.files.length === 0) {\n              clearInterval(progressInterval);\n              return;\n            }\n\n            if (this.files[index].progress === 100) {\n              clearInterval(progressInterval);\n              this.uploadFilesSimulator(index + 1);\n            } else {\n              this.files[index].progress += 5;\n            }\n          }, 200);\n        }\n      }, 1000);\n    }\n    /**\r\n     * Convert Files list to normal array list\r\n     * @param files (Files List)\r\n     */\n\n\n    prepareFilesList(files) {\n      for (const item of files) {\n        item.progress = 0;\n        this.files.push(item);\n      }\n\n      this.uploadFilesSimulator(0);\n    }\n    /**\r\n     * format bytes\r\n     * @param bytes (File size in bytes)\r\n     * @param decimals (Decimals point)\r\n     */\n\n\n    formatBytes(bytes, decimals) {\n      if (bytes === 0) {\n        return '0 Bytes';\n      }\n\n      const k = 1024;\n      const dm = decimals <= 0 ? 0 : decimals || 2;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n\n    ngOnDestroy() {}\n\n  }\n\n  ReplaceCatalogComponent.ɵfac = function ReplaceCatalogComponent_Factory(t) {\n    return new (t || ReplaceCatalogComponent)();\n  };\n\n  ReplaceCatalogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReplaceCatalogComponent,\n    selectors: [[\"app-replace-catalog\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"files-list\"], [\"class\", \"single-file\", 4, \"ngFor\", \"ngForOf\"], [\"appDnd\", \"\", 1, \"container\", 3, \"fileDropped\"], [\"type\", \"file\", \"id\", \"fileDropRef\", \"multiple\", \"\", 3, \"change\"], [\"fileDropRef\", \"\"], [1, \"drag-title\"], [\"for\", \"fileDropRef\", 1, \"label-down\"], [\"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 -4 24 24\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M13 14.9861C13 15.5384 12.5523 15.9861 12 15.9861C11.4477 15.9861 11 15.5384 11 14.9861V7.82831L7.75724 11.0711L6.34303 9.65685L11.9999 4L17.6567 9.65685L16.2425 11.0711L13 7.82854V14.9861Z\", \"fill\", \"#1672EC\"], [\"d\", \"M20 14H18V18H6V14H4V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V14Z\", \"fill\", \"#1672EC\"], [1, \"single-file\"], [1, \"file-icon\", 2, \"width\", \"50px\"], [\"width\", \"32\", \"height\", \"32\", \"viewBox\", \"0 0 32 32\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M4 6.66699C4 4.45785 5.79086 2.66699 8 2.66699H18.6667C23.8213 2.66699 28 6.84567 28 12.0003V25.3337C28 27.5428 26.2091 29.3337 24 29.3337H8C5.79086 29.3337 4 27.5428 4 25.3337V6.66699ZM17.3333 5.33366H8C7.26362 5.33366 6.66667 5.93061 6.66667 6.66699V25.3337C6.66667 26.07 7.26362 26.667 8 26.667H24C24.7364 26.667 25.3333 26.07 25.3333 25.3337V12.0003H17.3333V5.33366ZM24.7786 9.33366C23.9217 7.3724 22.1484 5.90313 20 5.46702V9.33366H24.7786Z\", \"fill\", \"black\"], [1, \"info\"], [1, \"name\"], [1, \"size\"], [3, \"progress\"], [1, \"delete\", 3, \"click\"], [\"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 16 16\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M2.22517 0.811448C1.83465 0.420924 1.20148 0.420924 0.81096 0.811448C0.420435 1.20197 0.420435 1.83514 0.81096 2.22566L6.58569 8.0004L0.811019 13.7751C0.420495 14.1656 0.420495 14.7988 0.811019 15.1893C1.20154 15.5798 1.83471 15.5798 2.22523 15.1893L7.99991 9.41461L13.7746 15.1893C14.1651 15.5798 14.7983 15.5798 15.1888 15.1893C15.5793 14.7988 15.5793 14.1656 15.1888 13.7751L9.41412 8.0004L15.1889 2.22566C15.5794 1.83514 15.5794 1.20197 15.1889 0.811448C14.7983 0.420924 14.1652 0.420924 13.7746 0.811448L7.99991 6.58618L2.22517 0.811448Z\", \"fill\", \"#616161\"]],\n    template: function ReplaceCatalogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReplaceCatalogComponent_div_0_Template, 17, 0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, ReplaceCatalogComponent_div_2_Template, 13, 3, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.files.length === 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.files);\n      }\n    },\n    directives: [i1.NgIf, i1.NgForOf, i2.ProgressComponent],\n    styles: [\".mat-dialog-container .container{width:380px}.drag-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}label.label-down[_ngcontent-%COMP%]{color:#1672ec;cursor:pointer;width:183px;border-radius:21.5px;margin-top:20px}.container[_ngcontent-%COMP%]{color:#1672ec;height:100px;text-align:center;border:1px dashed #1672EC;border-radius:8px;position:relative;margin:0 auto 20px;background-color:#c5dcfa80}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{animation:shake 1s;animation-iteration-count:infinite}.files-list[_ngcontent-%COMP%]{margin-top:1.5rem;width:auto;background-color:#c5dcfa80}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem;justify-content:space-between;align-items:center;border:1px dashed #1672EC;min-width:283px;border-radius:8px;margin-bottom:1rem;display:flex;flex-grow:1}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{display:flex;margin-left:.5rem;cursor:pointer;align-self:center}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#353f4a;margin:0}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#a4a4a4;margin:0;margin-bottom:.25rem}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%}@keyframes shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}\"]\n  });\n  return ReplaceCatalogComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}