{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { getCustomers } from 'src/app/core';\nimport { authLogInManagerRequest } from 'src/app/core/auth/actions';\nimport { customersGetAllRequest } from 'src/app/core/customers/actions';\nimport { ERole } from 'src/app/shared/enums';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/select\";\nimport * as i6 from \"@angular/material/core\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/router\";\nimport * as i10 from \"@angular/material/button\";\n\nfunction RegisterPageComponent_mat_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const state_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", state_r1._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(state_r1.name);\n  }\n}\n\nexport let RegisterPageComponent = /*#__PURE__*/(() => {\n  class RegisterPageComponent {\n    constructor(store, dialog) {\n      this.store = store;\n      this.dialog = dialog;\n      this.valueInputEmailCustomer = '';\n      this.valueInputPasswordCustomer = '';\n      this.valueInputEmail = '';\n      this.unsub$ = new Subject();\n    }\n\n    ngOnInit() {\n      this.store.dispatch(customersGetAllRequest());\n      this.store.select(getCustomers).pipe(takeUntil(this.unsub$)).subscribe(customers => {\n        this.allCustomers = customers;\n      });\n      this.form = new FormGroup({\n        customer: new FormControl(\"\", [Validators.minLength(24), Validators.maxLength(24), Validators.required]),\n        emailCustomer: new FormControl(\"\", [Validators.email, Validators.required]),\n        password: new FormControl(\"\", [Validators.minLength(6), Validators.required]),\n        repeatPassword: new FormControl(\"\", [Validators.minLength(6), Validators.required])\n      });\n    }\n\n    handleClickRegister() {\n      const dto = {\n        role: ERole.Customer,\n        password: this.form.value.password,\n        email: this.form.value.emailCustomer,\n        customer: this.form.value.customer\n      };\n      this.store.dispatch(authLogInManagerRequest(dto));\n    }\n\n    ngOnDestroy() {\n      this.unsub$.next(null);\n      this.unsub$.complete();\n    }\n\n  }\n\n  RegisterPageComponent.ɵfac = function RegisterPageComponent_Factory(t) {\n    return new (t || RegisterPageComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n\n  RegisterPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterPageComponent,\n    selectors: [[\"app-register-page\"]],\n    decls: 39,\n    vars: 3,\n    consts: [[1, \"custom-overlay\"], [\"width\", \"122\", \"height\", \"40\", \"viewBox\", \"0 0 122 40\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"logo-register\"], [\"clip-path\", \"url(#clip0)\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M35.7286 16.8116C35.7286 17.549 35.6781 18.2754 35.5803 18.9877L35.583 18.9855C33.9563 31.0435 23.0441 38.3092 17.8639 40V33.6232C7.99792 33.623 0 26.0963 0 16.8116C0 7.52681 7.99811 0 17.8643 0C27.7305 0 35.7286 7.52681 35.7286 16.8116ZM7.69799 12.3189H19.4623C20.7457 12.3189 21.7861 13.357 21.7861 14.6377V15.3623C21.7861 17.2833 23.3467 18.8406 25.2718 18.8406H25.998C26.6397 18.8406 27.1599 19.3597 27.1599 20V22.6087H28.9027V20C28.9027 18.3992 27.6022 17.1015 25.998 17.1015H25.2718C24.3092 17.1015 23.5289 16.3228 23.5289 15.3623V14.6377C23.5289 12.3965 21.7082 10.5797 19.4623 10.5797H7.11704L7.69799 12.3189ZM9.44045 15.942H16.8476V17.6812H10.0214L9.44045 15.942ZM16.8478 21.1594H11.474L12.055 22.8985H16.8478V21.1594ZM23.8189 23.0435C23.8189 24.084 22.9736 24.9275 21.9308 24.9275C20.8881 24.9275 20.0427 24.084 20.0427 23.0435C20.0427 22.0029 20.8881 21.1594 21.9308 21.1594C22.9736 21.1594 23.8189 22.0029 23.8189 23.0435ZM50.8335 7.82608H47.9287V19.7101L47.9524 19.677C47.9367 19.8793 47.9287 20.0836 47.9287 20.2898C47.9287 24.6121 51.4401 28.1159 55.7716 28.1159C60.1031 28.1159 63.6145 24.6121 63.6145 20.2898C63.6145 15.9676 60.1031 12.4638 55.7716 12.4638C53.9001 12.4638 52.1817 13.1179 50.8335 14.2095V7.82608ZM60.7094 20.2899C60.7094 23.0113 58.4985 25.2174 55.7713 25.2174C53.044 25.2174 50.8332 23.0113 50.8332 20.2899C50.8332 17.5684 53.044 15.3623 55.7713 15.3623C58.4985 15.3623 60.7094 17.5684 60.7094 20.2899ZM122 20.2899C122 24.6121 118.489 28.1159 114.157 28.1159C109.826 28.1159 106.314 24.6121 106.314 20.2899C106.314 15.9676 109.826 12.4638 114.157 12.4638C118.489 12.4638 122 15.9676 122 20.2899ZM119.095 20.2899C119.095 23.0113 116.884 25.2174 114.157 25.2174C111.43 25.2174 109.219 23.0113 109.219 20.2899C109.219 17.5685 111.43 15.3624 114.157 15.3624C116.884 15.3624 119.095 17.5685 119.095 20.2899ZM90.919 13.3333H93.8237L98.3261 24.058L102.683 13.3333H105.733L99.6333 27.8261H96.8737L90.919 13.3333ZM82.2045 28.1159C84.0761 28.1159 85.7946 27.4617 87.1429 26.37V27.8261H90.0477V20.8696H90.0262C90.0402 20.6782 90.0473 20.4849 90.0473 20.2899C90.0473 15.9676 86.536 12.4638 82.2045 12.4638C77.873 12.4638 74.3616 15.9676 74.3616 20.2899C74.3616 24.6121 77.873 28.1159 82.2045 28.1159ZM82.2042 25.2174C84.9314 25.2174 87.1423 23.0113 87.1423 20.2899C87.1423 17.5685 84.9314 15.3624 82.2042 15.3624C79.477 15.3624 77.2661 17.5685 77.2661 20.2899C77.2661 23.0113 79.477 25.2174 82.2042 25.2174ZM65.6472 27.8261L65.6473 13.3333H67.6806L67.9712 14.2029L68.4068 15.0725C68.9877 13.6812 70.5853 13.3333 71.3115 13.3333H73.7807V16.2319H70.7306C69.2201 16.2319 68.6488 17.7778 68.552 18.5507V27.8261H65.6472Z\", \"fill\", \"black\"], [\"id\", \"clip0\"], [\"width\", \"122\", \"height\", \"40\", \"fill\", \"white\"], [1, \"container-register\"], [\"mat-dialog-title\", \"\", 1, \"log-in-title\"], [3, \"formGroup\"], [1, \"layout-lable\"], [\"appearance\", \"outline\", 1, \"register-form-field\"], [\"formControlName\", \"customer\"], [\"disabled\", \"\", \"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matInput\", \"\", \"type\", \"email\", \"formControlName\", \"emailCustomer\", \"placeholder\", \"email@example.com\", \"pattern\", \"^[a-zA-Z0-9.!#$%&\\u2019*+/=?^_{|}~-]+@[a-zA-Z0-9-]+(?:\\\\.[a-zA-Z0-9-]+)*$\"], [\"matInput\", \"\", \"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"password\", \"minlength\", \"6\"], [\"matInput\", \"\", \"type\", \"password\", \"formControlName\", \"repeatPassword\", \"placeholder\", \"Repeat Password\", \"minlength\", \"6\"], [\"routerLink\", \"/login\"], [1, \"reg-btn\"], [\"align\", \"end\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"cdkFocusInitial\", \"\", 3, \"disabled\", \"click\"], [3, \"value\"]],\n    template: function RegisterPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(1, \"svg\", 1)(2, \"g\", 2);\n        i0.ɵɵelement(3, \"path\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"defs\")(5, \"clipPath\", 4);\n        i0.ɵɵelement(6, \"rect\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"h2\", 7)(9, \"span\");\n        i0.ɵɵtext(10, \"Register Customer\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"form\", 8)(12, \"div\", 9);\n        i0.ɵɵtext(13, \"Customer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-form-field\", 10)(15, \"mat-select\", 11)(16, \"mat-option\", 12);\n        i0.ɵɵtext(17, \"Choose Your Customer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(18, RegisterPageComponent_mat_option_18_Template, 2, 2, \"mat-option\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 9);\n        i0.ɵɵtext(20, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"mat-form-field\", 10);\n        i0.ɵɵelement(22, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 9);\n        i0.ɵɵtext(24, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"mat-form-field\", 10);\n        i0.ɵɵelement(26, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 9);\n        i0.ɵɵtext(28, \"Repeat Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"mat-form-field\", 10);\n        i0.ɵɵelement(30, \"input\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"p\");\n        i0.ɵɵtext(32, \"Do you have login and password? \");\n        i0.ɵɵelementStart(33, \"a\", 17);\n        i0.ɵɵtext(34, \"sing in now\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 18)(36, \"mat-dialog-actions\", 19)(37, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function RegisterPageComponent_Template_button_click_37_listener() {\n          return ctx.handleClickRegister();\n        });\n        i0.ɵɵtext(38, \"Register\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.allCustomers);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"disabled\", ctx.form.invalid || ctx.form.value.password !== ctx.form.value.repeatPassword);\n      }\n    },\n    directives: [i2.MatDialogTitle, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i4.MatFormField, i5.MatSelect, i3.NgControlStatus, i3.FormControlName, i6.MatOption, i7.NgForOf, i8.MatInput, i3.DefaultValueAccessor, i3.PatternValidator, i3.MinLengthValidator, i9.RouterLinkWithHref, i2.MatDialogActions, i10.MatButton],\n    styles: [\".logo-register[_ngcontent-%COMP%]{padding:15px 0 0 15px}.custom-overlay[_ngcontent-%COMP%]{background:#f8f8f8;height:100vh}.role-toggle[_ngcontent-%COMP%]{width:max-content;margin:10px auto}.role-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;margin:10px 20px}.container-register[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:50vh;margin:5vh auto;background:#fff;border-radius:5px;border:1px solid #bbbbbb}.log-in-title[_ngcontent-%COMP%]{padding-top:20px;font-size:24px}.container-register[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;text-align:center}.valid-input-email[_ngcontent-%COMP%]{color:green}.invalid-input-email[_ngcontent-%COMP%]{color:red}.default-input-email[_ngcontent-%COMP%]{color:#757575}.typing-input-email[_ngcontent-%COMP%]{color:#00f}.layout-lable[_ngcontent-%COMP%]{font-size:14px;padding-left:5px;align-self:flex-start}.reg-btn[_ngcontent-%COMP%]{height:60px}  .container-register .mat-form-field-wrapper{padding-bottom:5px}  .container-register .mat-form-field-infix{border:none;padding:18px 0 14px}  .container-register .mat-form-field-wrapper{width:400px}  .container-register .mat-form-field-flex{min-height:40px}  .container-register .mat-dialog-actions button{width:400px}@media (max-width: 520px){  .container-register .mat-dialog-actions button{width:200px}  .container-register .mat-form-field-wrapper{width:200px}}@media (max-width: 520px){.container-register[_ngcontent-%COMP%]{width:200px}}\"]\n  });\n  return RegisterPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}