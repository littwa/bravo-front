{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport { getEmailManager, getErrorAuth, getLoading, getRole } from 'src/app/core';\nimport { authVerifyCustomerRequest, authVerifyManagerRequest } from 'src/app/core/auth/actions';\nimport { ERole } from 'src/app/shared/enums';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nimport * as i8 from \"@ngrx/component\";\nconst _c0 = [\"modalCheck\"];\nconst _c1 = [\"inp2\"];\n\nfunction CheckEmailPageComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"mat-spinner\", 18);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CheckEmailPageComponent_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Code is not valid!\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let CheckEmailPageComponent = /*#__PURE__*/(() => {\n  class CheckEmailPageComponent {\n    constructor(dialog, store) {\n      this.dialog = dialog;\n      this.store = store;\n      this.isInvalid = false;\n      this.isLoading = false;\n      this.valueInputEmail = \"\";\n      this.valueInputEmail2 = \"\";\n    }\n\n    ngOnInit() {\n      this.emailManger$ = this.store.select(getEmailManager);\n      this.loading$ = this.store.select(getLoading).pipe(map(v => !!v));\n      this.error$ = this.store.select(getErrorAuth).pipe(map(v => !!v));\n      this.store.select(getRole).subscribe(v => this.role = v);\n    }\n\n    changeValueInputEmail(valueInpEmail) {\n      if (valueInpEmail.length === 3) {\n        this.inp2.nativeElement.focus();\n\n        if (valueInpEmail.length === 3 && this.valueInputEmail2.length === 3) {\n          this.verifyRequest(this.valueInputEmail2, valueInpEmail);\n        }\n      }\n    }\n\n    changeValueInputEmail2(valueInpEmail2) {\n      if (valueInpEmail2.length === 3 && this.valueInputEmail.length === 3) {\n        this.verifyRequest(this.valueInputEmail, valueInpEmail2);\n      }\n    }\n\n    verifyRequest(input1, input2) {\n      if (this.role === ERole.Customer) return this.store.dispatch(authVerifyCustomerRequest({\n        payload: input1 + input2\n      }));\n      if (this.role === ERole.Admin) return this.store.dispatch(authVerifyManagerRequest({\n        payload: input1 + input2\n      }));\n    }\n\n  }\n\n  CheckEmailPageComponent.ɵfac = function CheckEmailPageComponent_Factory(t) {\n    return new (t || CheckEmailPageComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.Store));\n  };\n\n  CheckEmailPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CheckEmailPageComponent,\n    selectors: [[\"app-check-email-page\"]],\n    viewQuery: function CheckEmailPageComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalCheck = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inp2 = _t.first);\n      }\n    },\n    decls: 37,\n    vars: 13,\n    consts: [[1, \"custom-overlay-check\"], [\"width\", \"122\", \"height\", \"40\", \"viewBox\", \"0 0 122 40\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"logo-login\"], [\"clip-path\", \"url(#clip0)\"], [\"fill-rule\", \"evenodd\", \"clip-rule\", \"evenodd\", \"d\", \"M35.7286 16.8116C35.7286 17.549 35.6781 18.2754 35.5803 18.9877L35.583 18.9855C33.9563 31.0435 23.0441 38.3092 17.8639 40V33.6232C7.99792 33.623 0 26.0963 0 16.8116C0 7.52681 7.99811 0 17.8643 0C27.7305 0 35.7286 7.52681 35.7286 16.8116ZM7.69799 12.3189H19.4623C20.7457 12.3189 21.7861 13.357 21.7861 14.6377V15.3623C21.7861 17.2833 23.3467 18.8406 25.2718 18.8406H25.998C26.6397 18.8406 27.1599 19.3597 27.1599 20V22.6087H28.9027V20C28.9027 18.3992 27.6022 17.1015 25.998 17.1015H25.2718C24.3092 17.1015 23.5289 16.3228 23.5289 15.3623V14.6377C23.5289 12.3965 21.7082 10.5797 19.4623 10.5797H7.11704L7.69799 12.3189ZM9.44045 15.942H16.8476V17.6812H10.0214L9.44045 15.942ZM16.8478 21.1594H11.474L12.055 22.8985H16.8478V21.1594ZM23.8189 23.0435C23.8189 24.084 22.9736 24.9275 21.9308 24.9275C20.8881 24.9275 20.0427 24.084 20.0427 23.0435C20.0427 22.0029 20.8881 21.1594 21.9308 21.1594C22.9736 21.1594 23.8189 22.0029 23.8189 23.0435ZM50.8335 7.82608H47.9287V19.7101L47.9524 19.677C47.9367 19.8793 47.9287 20.0836 47.9287 20.2898C47.9287 24.6121 51.4401 28.1159 55.7716 28.1159C60.1031 28.1159 63.6145 24.6121 63.6145 20.2898C63.6145 15.9676 60.1031 12.4638 55.7716 12.4638C53.9001 12.4638 52.1817 13.1179 50.8335 14.2095V7.82608ZM60.7094 20.2899C60.7094 23.0113 58.4985 25.2174 55.7713 25.2174C53.044 25.2174 50.8332 23.0113 50.8332 20.2899C50.8332 17.5684 53.044 15.3623 55.7713 15.3623C58.4985 15.3623 60.7094 17.5684 60.7094 20.2899ZM122 20.2899C122 24.6121 118.489 28.1159 114.157 28.1159C109.826 28.1159 106.314 24.6121 106.314 20.2899C106.314 15.9676 109.826 12.4638 114.157 12.4638C118.489 12.4638 122 15.9676 122 20.2899ZM119.095 20.2899C119.095 23.0113 116.884 25.2174 114.157 25.2174C111.43 25.2174 109.219 23.0113 109.219 20.2899C109.219 17.5685 111.43 15.3624 114.157 15.3624C116.884 15.3624 119.095 17.5685 119.095 20.2899ZM90.919 13.3333H93.8237L98.3261 24.058L102.683 13.3333H105.733L99.6333 27.8261H96.8737L90.919 13.3333ZM82.2045 28.1159C84.0761 28.1159 85.7946 27.4617 87.1429 26.37V27.8261H90.0477V20.8696H90.0262C90.0402 20.6782 90.0473 20.4849 90.0473 20.2899C90.0473 15.9676 86.536 12.4638 82.2045 12.4638C77.873 12.4638 74.3616 15.9676 74.3616 20.2899C74.3616 24.6121 77.873 28.1159 82.2045 28.1159ZM82.2042 25.2174C84.9314 25.2174 87.1423 23.0113 87.1423 20.2899C87.1423 17.5685 84.9314 15.3624 82.2042 15.3624C79.477 15.3624 77.2661 17.5685 77.2661 20.2899C77.2661 23.0113 79.477 25.2174 82.2042 25.2174ZM65.6472 27.8261L65.6473 13.3333H67.6806L67.9712 14.2029L68.4068 15.0725C68.9877 13.6812 70.5853 13.3333 71.3115 13.3333H73.7807V16.2319H70.7306C69.2201 16.2319 68.6488 17.7778 68.552 18.5507V27.8261H65.6472Z\", \"fill\", \"black\"], [\"id\", \"clip0\"], [\"width\", \"122\", \"height\", \"40\", \"fill\", \"white\"], [1, \"custom-modal-window\"], [1, \"container-check\"], [\"mat-dialog-title\", \"\", 1, \"log-in-title\"], [1, \"layout-lable\"], [1, \"input-container\"], [\"appearance\", \"outline\", 1, \"example-form-field\"], [\"maxlength\", \"3\", \"matInput\", \"\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"inp2\", \"\"], [1, \"request-verify-code\"], [4, \"ngIf\"], [1, \"invalid-code\"], [1, \"email-span\"], [\"strokeWidth\", \"5\", \"diameter\", \"30\"]],\n    template: function CheckEmailPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(1, \"svg\", 1)(2, \"g\", 2);\n        i0.ɵɵelement(3, \"path\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"defs\")(5, \"clipPath\", 4);\n        i0.ɵɵelement(6, \"rect\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"h4\", 8);\n        i0.ɵɵtext(10, \"Please cheak your email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\");\n        i0.ɵɵtext(12, \"We use this login code so you don\\u2019t have\");\n        i0.ɵɵelement(13, \"br\");\n        i0.ɵɵtext(14, \" to remember or type in yet another long password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 9);\n        i0.ɵɵtext(16, \"Your login code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"mat-form-field\", 11)(19, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function CheckEmailPageComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.changeValueInputEmail($event);\n        })(\"ngModelChange\", function CheckEmailPageComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.valueInputEmail = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtext(20, \" \\u2014 \");\n        i0.ɵɵelementStart(21, \"mat-form-field\", 11)(22, \"input\", 12, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function CheckEmailPageComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.changeValueInputEmail2($event);\n        })(\"ngModelChange\", function CheckEmailPageComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.valueInputEmail2 = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"div\", 14);\n        i0.ɵɵtemplate(25, CheckEmailPageComponent_div_25_Template, 2, 0, \"div\", 15);\n        i0.ɵɵpipe(26, \"ngrxPush\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 16);\n        i0.ɵɵtemplate(28, CheckEmailPageComponent_span_28_Template, 2, 0, \"span\", 15);\n        i0.ɵɵpipe(29, \"ngrxPush\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"p\");\n        i0.ɵɵtext(31, \"We've sent a 6 digit login code to: \");\n        i0.ɵɵelementStart(32, \"span\", 17);\n        i0.ɵɵtext(33);\n        i0.ɵɵpipe(34, \"ngrxPush\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵtext(36, \" Can't find it? Check your spam folder.\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵclassMap(ctx.statusInputCheck);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.valueInputEmail);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.valueInputEmail2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(26, 7, ctx.loading$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(29, 9, ctx.error$));\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(34, 11, ctx.emailManger$), \"\");\n      }\n    },\n    directives: [i1.MatDialogTitle, i3.MatFormField, i4.MatInput, i5.DefaultValueAccessor, i5.MaxLengthValidator, i5.NgControlStatus, i5.NgModel, i6.NgIf, i7.MatProgressSpinner],\n    pipes: [i8.PushPipe],\n    styles: [\".logo-login[_ngcontent-%COMP%]{padding:15px 0 0 15px}.custom-overlay-check[_ngcontent-%COMP%]{background:#f8f8f8;height:100vh}.email-span[_ngcontent-%COMP%]{color:#4a89ff;font-weight:500}.container-check[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container-check[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0}.container-check[_ngcontent-%COMP%]   .layout-lable[_ngcontent-%COMP%]{align-self:flex-start;font-size:14px;padding-left:15px}.custom-modal-window[_ngcontent-%COMP%]{background:#fff;width:400px;border:1px solid #bbbbbb;border-radius:5px;margin:15vh auto;padding:20px 30px}.container-check[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:40px;text-align:center;font-size:14px}.input-container[_ngcontent-%COMP%]{width:100%}.invalid-requst[_ngcontent-%COMP%]{opacity:0;height:14px;color:red;align-self:flex-start;padding-left:15px}.loading-requst[_ngcontent-%COMP%]{height:14px;align-self:center;padding-left:15px}.invalid-requst-opacity[_ngcontent-%COMP%]{opacity:1}.invalid-requst-opacity-0[_ngcontent-%COMP%]{opacity:0}.invalid-code[_ngcontent-%COMP%]{height:16px;color:red}.request-verify-code[_ngcontent-%COMP%]{height:16px}  .container-check .mat-form-field-appearance-outline .mat-form-field-outline{color:#bbb}  .container-check .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#bbb}  .container-check .mat-form-field-infix{border:none;padding:15px 0 10px}  .container-check .mat-input-element{height:30px;text-align:center;letter-spacing:20px}  .container-check .mat-form-field-wrapper{width:188px;padding-bottom:0}  .container-check .mat-form-field-flex{min-height:40px}@media (max-width: 520px){.custom-modal-window[_ngcontent-%COMP%]{width:200px}.log-in-title[_ngcontent-%COMP%]{text-align:center}}\"]\n  });\n  return CheckEmailPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}